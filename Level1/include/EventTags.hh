#ifndef EventTags_H
#define EventTags_H

// General information which MUST NOT vary with version

// Section tags (highest 4 bits of each section)
#define EVENT_FILE_HEAD_TAG     0x9
#define EVENT_FILE_TAIL_TAG     0x5
#define EVENT_HEADER_TAG        0x6
#define EVENT_TRIGGER_INFO_TAG  0x3
#define EVENT_ADCBOARD_INFO_TAG 0xE

// Position of tag in all header types
#define EVENT_TAG_LIN 0
#define EVENT_TAG_POS 28
#define EVENT_TAG_BIT 0xF0000000

// File header: position of data format version
#define EVENT_VERSION_LIN 0
#define EVENT_VERSION_POS 16
#define EVENT_VERSION_BIT 0x0FFF0000

// Full, ADC, and Trigger event header: position of event section size in 4-bytes words
#define EVENT_EVENTSIZE_LIN 0
#define EVENT_EVENTSIZE_POS 0
#define EVENT_EVENTSIZE_BIT 0x0FFFFFFF

// Information related to physical structure of V1742 ADC board
#define ADCEVENT_NCHANNELS 32
#define ADCEVENT_NTRIGGERS 4
#define ADCEVENT_NSAMPLES 1024

// Information which can change from one version to the other

  ////////////////
 // VERSION 01 //
////////////////

#define ADCEVENT_V01_FORMAT_VERSION 1

// ADC file header structure

#define ADCEVENT_V01_FHEAD_LEN 3

#define ADCEVENT_V01_FILEINDEX_LIN 0
#define ADCEVENT_V01_FILEINDEX_POS 0
#define ADCEVENT_V01_FILEINDEX_BIT 0x0000FFFF

#define ADCEVENT_V01_RUNNUMBER_LIN 1
#define ADCEVENT_V01_RUNNUMBER_POS 0
#define ADCEVENT_V01_RUNNUMBER_BIT 0xFFFFFFFF

#define ADCEVENT_V01_TTAGSOF_LIN 2
#define ADCEVENT_V01_TTAGSOF_POS 0
#define ADCEVENT_V01_TTAGSOF_BIT 0xFFFFFFFF

// File tail structure

#define ADCEVENT_V01_FTAIL_LEN 4

#define ADCEVENT_V01_NEVENTS_LIN 0
#define ADCEVENT_V01_NEVENTS_POS 0
#define ADCEVENT_V01_NEVENTS_BIT 0x0FFFFFFF

#define ADCEVENT_V01_FILESIZELO_LIN 1
#define ADCEVENT_V01_FILESIZELO_POS 0
#define ADCEVENT_V01_FILESIZELO_BIT 0xFFFFFFFF

#define ADCEVENT_V01_FILESIZEHI_LIN 2
#define ADCEVENT_V01_FILESIZEHI_POS 0
#define ADCEVENT_V01_FILESIZEHI_BIT 0xFFFFFFFF

#define ADCEVENT_V01_TTAGEOF_LIN 3
#define ADCEVENT_V01_TTAGEOF_POS 0
#define ADCEVENT_V01_TTAGEOF_BIT 0xFFFFFFFF

// ADC event header structure

#define ADCEVENT_V01_EVENTHEAD_LEN 6

#define ADCEVENT_V01_BOARDID_LIN 1
#define ADCEVENT_V01_BOARDID_POS 27
#define ADCEVENT_V01_BOARDID_BIT 0xF8000000

#define ADCEVENT_V01_PATTERN_LIN 1
#define ADCEVENT_V01_PATTERN_POS 8
#define ADCEVENT_V01_PATTERN_BIT 0x00FFFF00

#define ADCEVENT_V01_STATUS_LIN 1
#define ADCEVENT_V01_STATUS_POS 4
#define ADCEVENT_V01_STATUS_BIT 0x000000F0

#define ADCEVENT_V01_GRMASK_LIN 1
#define ADCEVENT_V01_GRMASK_POS 0
#define ADCEVENT_V01_GRMASK_BIT 0x0000000F

#define ADCEVENT_V01_EVENTNUMBER_LIN 2
#define ADCEVENT_V01_EVENTNUMBER_POS 0
#define ADCEVENT_V01_EVENTNUMBER_BIT 0x003FFFFF

#define ADCEVENT_V01_TTAGEVENT_LIN 3
#define ADCEVENT_V01_TTAGEVENT_POS 0
#define ADCEVENT_V01_TTAGEVENT_BIT 0xFFFFFFFF

#define ADCEVENT_V01_CHMASKACTIVE_LIN 4
#define ADCEVENT_V01_CHMASKACTIVE_POS 0
#define ADCEVENT_V01_CHMASKACTIVE_BIT 0xFFFFFFFF

#define ADCEVENT_V01_CHMASKACCEPTED_LIN 5
#define ADCEVENT_V01_CHMASKACCEPTED_POS 0
#define ADCEVENT_V01_CHMASKACCEPTED_BIT 0xFFFFFFFF

// Group header structure

#define ADCEVENT_V01_GRHEAD_LEN 1

#define ADCEVENT_V01_STARTIDXCELL_LIN 0
#define ADCEVENT_V01_STARTIDXCELL_POS 16
#define ADCEVENT_V01_STARTIDXCELL_BIT 0xFFFF0000

#define ADCEVENT_V01_FREQUENCY_LIN 0
#define ADCEVENT_V01_FREQUENCY_POS 14
#define ADCEVENT_V01_FREQUENCY_BIT 0x0000C000

#define ADCEVENT_V01_TRHASDATA_LIN 0
#define ADCEVENT_V01_TRHASDATA_POS 12
#define ADCEVENT_V01_TRHASDATA_BIT 0x00003000

#define ADCEVENT_V01_GRSIZE_LIN 0
#define ADCEVENT_V01_GRSIZE_POS 0
#define ADCEVENT_V01_GRSIZE_BIT 0x00000FFF

// Group tail structure

#define ADCEVENT_V01_GRTAIL_LEN 1

#define ADCEVENT_V01_TTAGTRIG_LIN 0
#define ADCEVENT_V01_TTAGTRIG_POS 0
#define ADCEVENT_V01_TTAGTRIG_BIT 0xFFFFFFFF

  ////////////////
 // VERSION 02 //
////////////////

#define ADCEVENT_V02_FORMAT_VERSION 2

// ADC file header structure

#define ADCEVENT_V02_FHEAD_LEN 3

#define ADCEVENT_V02_FILEINDEX_LIN 0
#define ADCEVENT_V02_FILEINDEX_POS 0
#define ADCEVENT_V02_FILEINDEX_BIT 0x0000FFFF

#define ADCEVENT_V02_RUNNUMBER_LIN 1
#define ADCEVENT_V02_RUNNUMBER_POS 0
#define ADCEVENT_V02_RUNNUMBER_BIT 0xFFFFFFFF

#define ADCEVENT_V02_TTAGSOF_LIN 2
#define ADCEVENT_V02_TTAGSOF_POS 0
#define ADCEVENT_V02_TTAGSOF_BIT 0xFFFFFFFF

// ADC file tail structure

#define ADCEVENT_V02_FTAIL_LEN 4

#define ADCEVENT_V02_NEVENTS_LIN 0
#define ADCEVENT_V02_NEVENTS_POS 0
#define ADCEVENT_V02_NEVENTS_BIT 0x0FFFFFFF

#define ADCEVENT_V02_FILESIZELO_LIN 1
#define ADCEVENT_V02_FILESIZELO_POS 0
#define ADCEVENT_V02_FILESIZELO_BIT 0xFFFFFFFF

#define ADCEVENT_V02_FILESIZEHI_LIN 2
#define ADCEVENT_V02_FILESIZEHI_POS 0
#define ADCEVENT_V02_FILESIZEHI_BIT 0xFFFFFFFF

#define ADCEVENT_V02_TTAGEOF_LIN 3
#define ADCEVENT_V02_TTAGEOF_POS 0
#define ADCEVENT_V02_TTAGEOF_BIT 0xFFFFFFFF

// ADC event header structure

#define ADCEVENT_V02_EVENTHEAD_LEN 6

#define ADCEVENT_V02_BOARDID_LIN 1
#define ADCEVENT_V02_BOARDID_POS 24
#define ADCEVENT_V02_BOARDID_BIT 0xFF000000

#define ADCEVENT_V02_PATTERN_LIN 1
#define ADCEVENT_V02_PATTERN_POS 8
#define ADCEVENT_V02_PATTERN_BIT 0x00FFFF00

#define ADCEVENT_V02_STATUS_LIN 1
#define ADCEVENT_V02_STATUS_POS 4
#define ADCEVENT_V02_STATUS_BIT 0x000000F0

#define ADCEVENT_V02_STATUS_HASDATA_BIT 0
#define ADCEVENT_V02_STATUS_DRS4COR_BIT 1
#define ADCEVENT_V02_STATUS_ZEROSUP_BIT 2

#define ADCEVENT_V02_GRMASK_LIN 1
#define ADCEVENT_V02_GRMASK_POS 0
#define ADCEVENT_V02_GRMASK_BIT 0x0000000F

#define ADCEVENT_V02_EVENTNUMBER_LIN 2
#define ADCEVENT_V02_EVENTNUMBER_POS 0
#define ADCEVENT_V02_EVENTNUMBER_BIT 0x003FFFFF

#define ADCEVENT_V02_TTAGEVENT_LIN 3
#define ADCEVENT_V02_TTAGEVENT_POS 0
#define ADCEVENT_V02_TTAGEVENT_BIT 0xFFFFFFFF

#define ADCEVENT_V02_CHMASKACTIVE_LIN 4
#define ADCEVENT_V02_CHMASKACTIVE_POS 0
#define ADCEVENT_V02_CHMASKACTIVE_BIT 0xFFFFFFFF

#define ADCEVENT_V02_CHMASKACCEPTED_LIN 5
#define ADCEVENT_V02_CHMASKACCEPTED_POS 0
#define ADCEVENT_V02_CHMASKACCEPTED_BIT 0xFFFFFFFF

// Group header structure

#define ADCEVENT_V02_GRHEAD_LEN 1

#define ADCEVENT_V02_STARTIDXCELL_LIN 0
#define ADCEVENT_V02_STARTIDXCELL_POS 16
#define ADCEVENT_V02_STARTIDXCELL_BIT 0xFFFF0000

#define ADCEVENT_V02_FREQUENCY_LIN 0
#define ADCEVENT_V02_FREQUENCY_POS 14
#define ADCEVENT_V02_FREQUENCY_BIT 0x0000C000

#define ADCEVENT_V02_TRHASDATA_LIN 0
#define ADCEVENT_V02_TRHASDATA_POS 12
#define ADCEVENT_V02_TRHASDATA_BIT 0x00003000

#define ADCEVENT_V02_GRSIZE_LIN 0
#define ADCEVENT_V02_GRSIZE_POS 0
#define ADCEVENT_V02_GRSIZE_BIT 0x00000FFF

// Group tail structure

#define ADCEVENT_V02_GRTAIL_LEN 1

#define ADCEVENT_V02_TTAGTRIG_LIN 0
#define ADCEVENT_V02_TTAGTRIG_POS 0
#define ADCEVENT_V02_TTAGTRIG_BIT 0xFFFFFFFF

  ////////////////
 // VERSION 03 //
////////////////

#define ADCEVENT_V03_FORMAT_VERSION 3

// ADC file header structure

#define ADCEVENT_V03_FHEAD_LEN 4

#define ADCEVENT_V03_FILEINDEX_LIN 0
#define ADCEVENT_V03_FILEINDEX_POS 0
#define ADCEVENT_V03_FILEINDEX_BIT 0x0000FFFF

#define ADCEVENT_V03_RUNNUMBER_LIN 1
#define ADCEVENT_V03_RUNNUMBER_POS 0
#define ADCEVENT_V03_RUNNUMBER_BIT 0xFFFFFFFF

#define ADCEVENT_V03_BOARDSN_LIN 2
#define ADCEVENT_V03_BOARDSN_POS 0
#define ADCEVENT_V03_BOARDSN_BIT 0xFFFFFFFF

#define ADCEVENT_V03_TTAGSOF_LIN 3
#define ADCEVENT_V03_TTAGSOF_POS 0
#define ADCEVENT_V03_TTAGSOF_BIT 0xFFFFFFFF

// ADC file tail structure

#define ADCEVENT_V03_FTAIL_LEN 4

#define ADCEVENT_V03_NEVENTS_LIN 0
#define ADCEVENT_V03_NEVENTS_POS 0
#define ADCEVENT_V03_NEVENTS_BIT 0x0FFFFFFF

#define ADCEVENT_V03_FILESIZELO_LIN 1
#define ADCEVENT_V03_FILESIZELO_POS 0
#define ADCEVENT_V03_FILESIZELO_BIT 0xFFFFFFFF

#define ADCEVENT_V03_FILESIZEHI_LIN 2
#define ADCEVENT_V03_FILESIZEHI_POS 0
#define ADCEVENT_V03_FILESIZEHI_BIT 0xFFFFFFFF

#define ADCEVENT_V03_TTAGEOF_LIN 3
#define ADCEVENT_V03_TTAGEOF_POS 0
#define ADCEVENT_V03_TTAGEOF_BIT 0xFFFFFFFF

// ADC event header structure

#define ADCEVENT_V03_EVENTHEAD_LEN 6

#define ADCEVENT_V03_BOARDID_LIN 1
#define ADCEVENT_V03_BOARDID_POS 24
#define ADCEVENT_V03_BOARDID_BIT 0xFF000000

#define ADCEVENT_V03_PATTERN_LIN 1
#define ADCEVENT_V03_PATTERN_POS 8
#define ADCEVENT_V03_PATTERN_BIT 0x00FFFF00

#define ADCEVENT_V03_0SUPALG_LIN 1
#define ADCEVENT_V03_0SUPALG_POS 4
#define ADCEVENT_V03_0SUPALG_BIT 0x000000F0

#define ADCEVENT_V03_GRMASK_LIN 1
#define ADCEVENT_V03_GRMASK_POS 0
#define ADCEVENT_V03_GRMASK_BIT 0x0000000F

#define ADCEVENT_V03_STATUS_LIN 2
#define ADCEVENT_V03_STATUS_POS 22
#define ADCEVENT_V03_STATUS_BIT 0xFFC00000

#define ADCEVENT_V03_STATUS_HASDATA_BIT  0
#define ADCEVENT_V03_STATUS_DRS4CORR_BIT 1
#define ADCEVENT_V03_STATUS_ZEROSUPP_BIT 2
#define ADCEVENT_V03_STATUS_BRDFAIL_BIT  3
#define ADCEVENT_V03_STATUS_AUTOPASS_BIT 4

#define ADCEVENT_V03_EVENTNUMBER_LIN 2
#define ADCEVENT_V03_EVENTNUMBER_POS 0
#define ADCEVENT_V03_EVENTNUMBER_BIT 0x003FFFFF

#define ADCEVENT_V03_TTAGEVENT_LIN 3
#define ADCEVENT_V03_TTAGEVENT_POS 0
#define ADCEVENT_V03_TTAGEVENT_BIT 0xFFFFFFFF

#define ADCEVENT_V03_CHMASKACTIVE_LIN 4
#define ADCEVENT_V03_CHMASKACTIVE_POS 0
#define ADCEVENT_V03_CHMASKACTIVE_BIT 0xFFFFFFFF

#define ADCEVENT_V03_CHMASKACCEPTED_LIN 5
#define ADCEVENT_V03_CHMASKACCEPTED_POS 0
#define ADCEVENT_V03_CHMASKACCEPTED_BIT 0xFFFFFFFF

// Group header structure

#define ADCEVENT_V03_GRHEAD_LEN 1

#define ADCEVENT_V03_STARTIDXCELL_LIN 0
#define ADCEVENT_V03_STARTIDXCELL_POS 22
#define ADCEVENT_V03_STARTIDXCELL_BIT 0xFFC00000

#define ADCEVENT_V03_FREQUENCY_LIN 0
#define ADCEVENT_V03_FREQUENCY_POS 20
#define ADCEVENT_V03_FREQUENCY_BIT 0x00300000

#define ADCEVENT_V03_TRHASDATA_LIN 0
#define ADCEVENT_V03_TRHASDATA_POS 19
#define ADCEVENT_V03_TRHASDATA_BIT 0x00080000

#define ADCEVENT_V03_GRSIZE_LIN 0
#define ADCEVENT_V03_GRSIZE_POS 0
#define ADCEVENT_V03_GRSIZE_BIT 0x00000FFF

// Group tail structure

#define ADCEVENT_V03_GRTAIL_LEN 1

#define ADCEVENT_V03_TTAGTRIG_LIN 0
#define ADCEVENT_V03_TTAGTRIG_POS 0
#define ADCEVENT_V03_TTAGTRIG_BIT 0xFFFFFFFF

// Trigger file header structure

#define TRIGEVENT_V03_FHEAD_LEN 3

#define TRIGEVENT_V03_FILEINDEX_LIN 0
#define TRIGEVENT_V03_FILEINDEX_POS 0
#define TRIGEVENT_V03_FILEINDEX_BIT 0x0000FFFF

#define TRIGEVENT_V03_RUNNUMBER_LIN 1
#define TRIGEVENT_V03_RUNNUMBER_POS 0
#define TRIGEVENT_V03_RUNNUMBER_BIT 0xFFFFFFFF

#define TRIGEVENT_V03_TTAGSOF_LIN 2
#define TRIGEVENT_V03_TTAGSOF_POS 0
#define TRIGEVENT_V03_TTAGSOF_BIT 0xFFFFFFFF

// Trigger file tail structure

#define TRIGEVENT_V03_FTAIL_LEN 4

#define TRIGEVENT_V03_NEVENTS_LIN 0
#define TRIGEVENT_V03_NEVENTS_POS 0
#define TRIGEVENT_V03_NEVENTS_BIT 0x0FFFFFFF

#define TRIGEVENT_V03_FILESIZELO_LIN 1
#define TRIGEVENT_V03_FILESIZELO_POS 0
#define TRIGEVENT_V03_FILESIZELO_BIT 0xFFFFFFFF

#define TRIGEVENT_V03_FILESIZEHI_LIN 2
#define TRIGEVENT_V03_FILESIZEHI_POS 0
#define TRIGEVENT_V03_FILESIZEHI_BIT 0xFFFFFFFF

#define TRIGEVENT_V03_TTAGEOF_LIN 3
#define TRIGEVENT_V03_TTAGEOF_POS 0
#define TRIGEVENT_V03_TTAGEOF_BIT 0xFFFFFFFF

// Trigger event info structure

#define TRIGEVENT_V03_EVENTHEAD_LEN 3

#define TRIGEVENT_V03_TRIGDATALO_LIN 1
#define TRIGEVENT_V03_TRIGDATALO_POS 0
#define TRIGEVENT_V03_TRIGDATALO_BIT 0xFFFFFFFF

#define TRIGEVENT_V03_TRIGDATAHI_LIN 2
#define TRIGEVENT_V03_TRIGDATAHI_POS 0
#define TRIGEVENT_V03_TRIGDATAHI_BIT 0xFFFFFFFF

#define TRIGEVENT_V03_CLOCKCOUNT_POS   0
#define TRIGEVENT_V03_CLOCKCOUNT_BIT   0x000000FFFFFFFFFF

#define TRIGEVENT_V03_TRIGGERMASK_POS  40
#define TRIGEVENT_V03_TRIGGERMASK_BIT  0x00003F0000000000

#define TRIGEVENT_V03_TRIGGERCOUNT_POS 46
#define TRIGEVENT_V03_TRIGGERCOUNT_BIT 0x00FFC00000000000


#endif
